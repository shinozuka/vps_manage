<div id="content_detail">
  <h4><%= t('page.listing', :model => t('activerecord.models.virtual_environment')) %></h5>
  <p id="notice"><%= notice %></p>

  <div id="content_list">
    <table class="index">
      <tr>
        <th>
          <% if params[:sort_by] == 'name' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.name'), params.merge(:sort_by => 'name', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.name'), params.merge(:sort_by => 'name', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'machine' and params[:order] == 'asc'%>
            <%= link_to t('activerecord.models.machine'), params.merge(:sort_by => 'machine', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.models.machine'), params.merge(:sort_by => 'machine', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'ip' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.ip'), params.merge(:sort_by => 'ip', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.ip'), params.merge(:sort_by => 'ip', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'tap' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.tap'), params.merge(:sort_by => 'tap', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.tap'), params.merge(:sort_by => 'tap', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'mac' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.mac'), params.merge(:sort_by => 'mac', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.mac'), params.merge(:sort_by => 'mac', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'vnc' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.vnc'), params.merge(:sort_by => 'vnc', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.vnc'), params.merge(:sort_by => 'vnc', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'image_name' and params[:order] == 'asc' %>
            <%= link_to t('activerecord.attributes.virtual_environment.image_name'), params.merge(:sort_by => 'image_name', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.virtual_environment.image_name'), params.merge(:sort_by => 'image_name', :order => 'asc') %>
          <% end %>
        </th>
        <th class="action_column"></th>
      </tr>

      <% @virtual_environments.each do |virtual_environment| %>
        <tr class="line<%= cycle("0", "1") -%>">
          <td><%= link_to virtual_environment.name, virtual_environment %></td>
          <td><%= link_to virtual_environment.machine.name, virtual_environment.machine if virtual_environment.machine %></td>
          <td><%= virtual_environment.ip %></td>
          <td><%= virtual_environment.tap %></td>
          <td><%= virtual_environment.mac %></td>
          <td><%= virtual_environment.vnc %></td>
          <td><%= virtual_environment.image_name %></td>
          <td>
            <%= link_to image_tag('paperpencil32.png', :size => '16x16', :alt => t('page.edit'), :title => t('page.edit')), edit_virtual_environment_path(virtual_environment) %>
            <%= link_to image_tag('stop32.png', :size => '16x16', :alt => t('page.destroy'), :title => t('page.destroy')), virtual_environment, confirm: t('page.are_you_sure'), method: :delete %>
          </td>
        </tr>
      <% end %>
    </table>
    <br />
    <%= will_paginate @virtual_environments, :previous_label=>'<', :next_label=>'>' %>
</div>
</div>

<div id="submenu">
  <ul>
    <li><%= link_to t('page.new', :model => t('activerecord.models.virtual_environment')), new_virtual_environment_path %></li>
  </ul>
</div>
