<div id="content_detail">
  <h4 id="page_title"><%= t('page.listing', :model => t('activerecord.models.machine')) %></h4>
  <p id="notice"><%= notice %></p>

  <div id="content_list">
    <table class="index">
      <tr>
        <th>
          <% if params[:sort_by] == 'name' and params[:order] == 'asc'%>
            <%= link_to t('activerecord.attributes.machine.name'), params.merge(:sort_by => 'name', :order => 'desc') %>
          <% else%>
            <%= link_to t('activerecord.attributes.machine.name'), params.merge(:sort_by => 'name', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'cpu' and params[:order] == 'asc'%>
            <%= link_to t('activerecord.attributes.machine.cpu'), params.merge(:sort_by => 'cpu', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.machine.cpu'), params.merge(:sort_by => 'cpu', :order => 'asc') %>
          <% end %>
        </th>
        <th>
          <% if params[:sort_by] == 'memory' and params[:order] == 'asc'%>
            <%= link_to t('activerecord.attributes.machine.memory'), params.merge(:sort_by => 'memory', :order => 'desc') %>
          <% else %>
            <%= link_to t('activerecord.attributes.machine.memory'), params.merge(:sort_by => 'memory', :order => 'asc') %>
          <% end %>
        </th>
        <th class="action_column"></th>
      </tr>

      <% @machines.each do |machine| %>
        <tr class="line<%= cycle("0", "1") -%>">
          <td><%=link_to machine.name, machine %></td>
          <td><%= machine.cpu %></td>
          <td><%= machine.memory %></td>
          <td>
            <%= link_to image_tag('paperpencil32.png', :size => '16x16', :alt => t('page.edit'), :title => t('page.edit')), edit_machine_path(machine) %>
            <%= link_to image_tag('stop32.png', :size => '16x16', :alt => t('page.destroy'), :title => t('page.destroy')), machine, confirm: t('page.are_you_sure'), method: :delete if machine.destroy? %>
          </td>
        </tr>
      <% end %>
    </table>
    <br />
    <%= will_paginate @diaries, :previous_label=>'<', :next_label=>'>' %> 
  </div>
</div>

<div id="submenu">
  <ul>
    <li><%= link_to t('page.new', :model => t('activerecord.models.machine')), new_machine_path %></li>
  </ul>
</div>
